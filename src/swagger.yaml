openapi: 3.0.3
info:
  title: NEO DOCUMENTATION
  version: 1.0.0
  description: >
    API BACKEND NEO

servers:
  - url: http://localhost:8001/
    description: Serveur de développement local

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  
  parameters:
    Id:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: ObjectId
    Name:
      name: name
      in: query
      schema:
        type: string
    Letter:
      name: letter
      in: query
      schema:
        type: string
    Before:
      name: before
      in: query
      schema:
        type: string
        format: date-time
    After:
      name: after
      in: query
      schema:
        type: string
        format: date-time
    Position:
      name: position
      in: query
      schema:
        type: string
    Online:
      name: online
      in: query
      schema:
        type: boolean
        enum:
          - true
          - false
    IsAuthenticated:
      name: auth
      in: query
      schema:
        type: boolean
        enum:
          - true
          - false
    Staff:
      name: staff
      in: query
      schema:
        type: boolean
        enum:
          - true
          - false
    Page:
      name: page
      in: query
      schema:
        type: number
    Limit:
      name: limit
      in: query
      schema:
        type: number
    Address:
      name: address
      in: query
      schema:
        type: string
    Org:
      name: org
      in: query
      schema:
        type: string
        format: ObjectId
    Min:
      name: min
      in: query
      schema:
        type: number
    Max:
      name: max
      in: query
      schema:
        type: number
    Zone:
      name: zone
      in: query
      schema:
        type: string
    Reason:
      name: reason
      in: query
      schema:
        type: string
    Mentor:
      name: mentor
      in: query
      schema:
        type: string
    Social:
      name: social
      in: query
      schema:
        type: string
    Lon:
      name: lon
      in: query
      schema:
        type: number
    Lat:
      name: lat
      in: query
      schema:
        type: number
    Service:
      name: service
      in: query
      schema:
        type: string
    Area:
      name: area
      in: query
      schema:
        type: string
    Sector:
      name: sector
      in: query
      schema:
        type: string

  schemas:
    Authenticated:
      type: object
      properties:
        access:
          type: string
          description: token d'access uniquement a la route nones
        refresh:
          type: string
          description: token de rafraichissement du token d'access

    JsonResponse:
      type: object
      required:
        - success
        - message
      properties:
        success:
          type: boolean
        message:
          type: string
        error:
          type: string
        data:
          type: object
    
    Referer:
      type: object
      properties:
        fullname:
          type: string
        country:
          type: string
        city:
          type: string
        position:
          type: string
        phone:
          type: string
        email:
          type: string
        picture:
          type: string
          format: url
          description: lien vers l'avatar du referant
        password:
          type: string
        click:
          type: number
        online:
          type: boolean
          description: permet d'identifier un utilisateur en ligne
        isAuthenticated:
          type: boolean
          description: permet d'identifier un utilisateur authentifier
        authorization:
          type: array
          items:
            type: string
        disconnected:
          type: string
          description: dernier date de deconnexion
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Neo:
      type: object
      required:
        - org
        - sex
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant
        org: 
          type: string
          format: ObjectId
          description: identifiant de l'organisation proprietaire
        fullname:
          type: string
        picture:
          type: string
          format: url
          description: lien vers l'avatar du lead
        online:
          type: boolean
          description: definis si neo est actif ou non
        responsability: 
          type: string
          description: role de l'agent ia
        sex:
          type: string
          enum:
            - F
            - M
        mission:
          type: string
          description: que devrais faire neo
        context:
          type: string
          description: en tant que ?
        task:
          type: string
          description: comment accomplir la mission
        version:
          type: string
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Manager:
      type: object
      required:
        - firstname
        - lastname
        - email
        - phone
        - position
        - password
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        firstname:
          type: string
        lastname:
          type: string
        email:
          type: string
        phone:
          type: string
        picture:
          type: string
          format: url
          description: lien vers l'avatar du manager
        position:
          type: string
        password:
          type: string
        online:
          type: boolean
          description: permet d'identifier un utilisateur en ligne
        isAuthenticated:
          type: boolean
          description: permet d'identifier un utilisateur authentifier
        authorization:
          type: array
          items:
            type: string
        disconnected:
          type: string
          description: dernier date de deconnexion
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur
    
    Lead:
      type: object
      properties:
        firstname:
          type: string
        lastname:
          type: string
        picture:
          type: string
          format: url
          description: lien vers l'avatar du lead
        phone:
          type: string
        address:
          type: string
        online:
          type: boolean
          description: permet d'identifier un utilisateur en ligne
        isAuthenticated:
          type: boolean
          description: permet d'identifier un utilisateur authentifier
        authorization:
          type: array
          items:
            type: string
        disconnected:
          type: string
          description: dernier date de deconnexion
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Employee:
      type: object
      required:
        - org
        - fullname
        - email
        - phone
        - password
      properties:
        org:
          type: string
          format: ObjectId
          description: identifiant de l'organisation proprietaire
        fullname:
          type: string
          description: nom complet de l'employer
        email:
          type: string
        phone:
          type: string
        picture:
          type: string
          format: url
          description: lien vers l'avatar de l'employer
        password:
          type: string
        online:
          type: boolean
          description: permet d'identifier un utilisateur en ligne
        isAuthenticated:
          type: boolean
          description: permet d'identifier un utilisateur authentifier
        isVerified:
          type: boolean
          description: permet d'identifier un utilisateur verifie
        authorization:
          type: array
          items:
            type: string
        disconnected:
          type: string
          description: dernier date de deconnexion
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur
    
    Admin:
      type: object
      required:
        - phone
        - email
        - cni
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        firstname:
          type: string
        lastname:
          type: string
        picture:
          type: string
          format: url
        phone:
          type: string
          description: numero telephonique personnel
        email:
          type: string
        cni:
          type: string
          description: Carte National d'Identité
        position:
          type: string
        recovery:
          type: string
        online:
          type: boolean
          description: permet d'identifier un utilisateur en ligne
        isAuthenticated:
          type: boolean
          description: permet d'identifier un utilisateur authentifier
        authorization:
          type: array
          items:
            type: string
        disconnected:
          type: string
          description: dernier date de deconnexion
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur
    
    Notify:
      type: object
      description: >
        toute type de notification
      required:
        - name
        - path
        - expired
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        state:
          type: string
          enum:
            - flottant
            - avatar
            - push
        image:
          type: string
          format: url
          description: lien vers l'image
        avatar:
          type: string
          format: url
          description: lien vers l'avatar
        name:
          type: string
          description: nom du chemin demander
        path:
          type: string
          format: url
          description: lien du chemin demander
        target:
          type: string
          description: zone cible
        message:
          type: string
          description: message associer
        expired:
          type: string
          format: date-time
          description: date d'expiration du chemin
        status:
          type: string
          enum:
            - pending
            - running
            - pass
          description: status
        view:
          type: object
          properties:
            size: 
              type: number
            interested:
              type: number
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Device:
      type: object
      description: >
        historique des action sur la plateforme
      properties:
        hote:
          type: string
          format: ObjectId
          description: identifiant du hote
        path:
          type: string
          format: url
          description: lien du chemin demander
        type: 
          type: string
          description: nommer l'action
        method:
          type: string
          description: method lie au chemin demander
        ip:
          type: string
          description: addresse ip
        agent: 
          type: string
          description: user agent
        browser:
          type: string
          description: navigateur utiliser
        os: 
          type: string
          description: systeme d'exploitation utiliser
        location:
          type: object
          properties:
            country:
              type: string
            city:
              type: string
            region:
              type: string
            lat:
              type: number
            lon:
              type: number
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Reaction:
      type: object
      description: >
        reaction a un message envoyer
      required:
        - message
        - hote
        - emoji
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant
        message:
          type: string
          format: ObjectId
          description: identifiant du message
        hote:
          type: string
          format: ObjectId
          description: identifiant du hote
        emoji:
          type: string
          description: emoji du message
    
    Sms:
      type: object
      description: >
        message dans la disccussion
      required:
        - room
        - hote
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        room:
          type: string
          format: ObjectId
          description: identifiant de la disccussion
        hote:
          type: string
          format: ObjectId
          description: identifiant du hote
        content:
          type: string
          description: contenu du message
        state:
          type: string
          enum:
            - text
            - external
          description: etat du message
        read:
          type: boolean
          description: message lu ou non
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Guest:
      type: object
      description: >
        les intervenant dans la disccussion
      required:
        - room
        - hote
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        room:
          type: string
          format: ObjectId
          description: identifiant de la disccussion
        hote:
          type: string
          format: ObjectId
          description: identifiant du hote
        role:
          type: string
          description: role du hote dans la disccussion
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Room:
      type: object
      description: >
        disccussion
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        name:
          type: string
          description: nom de la room
        status:
          type: string
          enum:
            - private
            - public
          description: status de la room
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Attach:
      type: object
      description: >
        fichier associer au message envoyer
      required:
        - message
        - type
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        message:
          type: string
          format: ObjectId
          description: identifiant du message
        path:
          type: string
          format: url
          description: lien vers le fichier uploader
        type:
          type: string
          enum:
            - image
            - video
            - audio
            - file
          description: type de fichier

    Rating:
      type: object
      description: >
        note d'un lead
      required:
        - lead
        - product
      properties:
        lead:
          type: string
          format: ObjectId
          description: identifiant du lead
        product:
          type: string
          format: ObjectId
          description: identifiant du product
        rating:
          type: number
          maximum: 5
          minimum: 0
          description: note du lead
        avis:
          type: string
          description: avis du lead
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Product:
      type: object
      description: >
        produit a vendre
      required:
        - org
      properties:
        assign:
          type: string
          format: ObjectId
          description: identifiant de l'agent ia
        org:
          type: string
          format: ObjectId
          description: identifiant de l'organisation proprietaire
        name:
          type: string
          description: nom du produit
        description:
          type: string
          description: description du produit
        price:
          type: number
          description: prix de vente du produit
        online:
          type: boolean
          description: permet d'identifier le produit mis en vente
        stock:
          type: number
          description: stock du produit
        category:
          type: string
          description: categorie du produit
        media:
          type: array
          items:
            type: string
            format: url
          description: images/videos du produit
        brand:
          type: string
          description: marque du produit
        features:
          type: array
          items:
            type: string
          description: caracteristiques du produit
        address:
          type: string
          description: lieu de vente du produit
        sizes:
          type: array
          items:
            type: string
          description: taille du produit
        colors:
          type: array
          items:
            type: string
          description: couleur du produit
        delivery:
          type: object
          properties:
            in:
              type: number
              description: prix de livraison dans la zone de vente
            out: 
              type: number
              description: prix de livraison en dehors de la zone de vente
        ondemand:
          type: string
          description: definis le type de service livraison/...
        warranty:
          type: string
          description: definis la garantie du produit
        bonus:
          type: array
          items:
            type: object
            format: Product
    
    Order:
      type: object
      description: >
        commande de vente de produit
      required:
        - lead
        - assign
        - items
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        lead:
          type: string
          format: ObjectId
          description: identifiant du lead
        assign:
          type: string
          format: ObjectId
          description: identifiant de l'agent ia 
        total:
          type: number
          description: montant total de la commande
        fee:
          type: number
          description: impots
        items:
          type: array
          items:
            type: object
            required:
              - product
              - quantity
              - price
            properties:
              product:
                type: string
                format: ObjectId
              quantity:
                type: number
              price:
                type: number
        shipment:
          type: object
          properties:
            when:
              type: string
              format: date-time
            where:
              type: string
            fee:
              type: number
        status:
          type: string
          enum:
            - init
            - doing
            - done
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Invoice:
      type: object
      description: >
        facture de vente de produit
      required:
        - type
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        type:
          type: string
          description: type de facture
        amount:
          type: number
          description: montant de la facture
        currency:
          type: string
          description: devise de la facture
        exchangeRate:
          type: number
          description: taux de conversion
        status:
          type: string
          enum:
            - pending
            - completed
            - failed
            - cancelled
          description: statut de la facture
        description:
          type: string
          description: description de la facture
        from:
          type: string
          format: ObjectId
          description: expediteur de la facture
        to:
          type: string
          format: ObjectId
          description: destinataire de la facture
        processedAt:
          type: string
          format: date-time
          description: date de traitement de la facture
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Xaccount:
      type: object
      description: >
        compte des admins
      required:
        - name
        - balance
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        name:
          type: string
          description: nom du compte
        balance:
          type: number
          description: solde de l'utilisateur

    Account:
      type: object
      description: >
        compte du manager
      required:
        - owner
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        owner:
          type: string
          format: ObjectId
          description: identifiant de l'utilisateur proprietaire
        currency:
          type: string
          description: devise de l'application
        balance:
          type: number
          description: solde de l'utilisateur
        assign:
          type: array
          items:
            type: object
            properties:
              org:
                type: string
                format: ObjectId
              balance:
                type: number
          description: assigner des fonds au organisation du manager
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Relance:
      type: object
      description: >
        rendez-vous de relancement du lead
      required:
        - assign
        - lead
        - relance
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        assign:
          type: string
          format: ObjectId
          description: identifiant de l'agent ia a la charge du relancement
        lead:
          type: string
          format: ObjectId
          description: identifiant du lead
        relance:
          type: string
          format: date-time
          description: date de relancement du lead
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Rate:
      type: object
      description: >
        taux de conversion
      properties:
        base:
          type: number
          description: monnaie de base
        target:
          type: number
          description: monnaie de conversion
        rate:
          type: number
          description: taux de conversion
        provider:
          type: string
          description: fournisseur de conversion
        fetchedAt:
          type: string
          format: date-time
          description: date de recuperation des donnees
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur
    
    Status:
      type: object
      description: >
        status d'une organisation
      required:
        - org
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        org:
          type: string
          format: ObjectId
          description: identifiant de l'organisation proprietaire
        media:
          type: string
          format: url
          description: lien vers le fichier uploader
        text:
          type: string
          description: message associer au status
        link: 
          type: string
          format: url
          description: lien associer au status
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    View:
      type: object
      description: >
        vue d'un status
      required:
        - status
        - viewer
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        status:
          type: string
          format: ObjectId
          description: identifiant du status
        viewer:
          type: string
          format: ObjectId
          description: identifiant du viewer
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Settings:
      type: object
      description: >
        settings d'un organisation
      required:
        - org
      properties:
        _id:
          type: string
          format: ObjectId
          description: identifiant unique
        org:
          type: string
          format: ObjectId
          description: identifiant de l'organisation proprietaire
        relance:
          type: boolean
          description: definis si les relance sont automatique ou non
        status:
          type: boolean
          description: publiction en status ou non
        lang:
          type: string
          description: langue de l'application
        currency:
          type: string
          description: devise de l'application
        country:
          type: string
          description: pays de l'application
        createdAt:
          type: string
          format: date-time
          description: date de creation de l'utilisateur
        updatedAt:
          type: string
          format: date-time
          description: derniere mis a jour de l'utilisateur

    Org:
      type: object
      description: >
        organisation ayant des produit a vendre et gerer par un manager
        elle possede:
        - un settings pour la gestion de ces parametre personnel
      required:
        - reason
        - manager
        - social
        - country
        - state
        - address
        - location
        - phone
        - email
        - sector
      properties:
        reason:
          type: string
          description: nom de l'organisation
        manager:
          type: string
          format: ObjectId
          description: identifiant du manager de l'organisation
        referer:
          type: string
          format: ObjectId
          description: identifiant du referant
        social:
          type: string
          description: type de societe
          enum:
            - SNC
            - SCS
            - SA
            - SAS
            - SASU
            - SARL
            - EURL
            - SCOP
            - SCIC
            - EI
            - EIRL
            - Micro-entreprise
            - SEP
            - GIE
            - SCI/SCP/...
        country:
          type: string
          description: pays
        state:
          type: string
          description: ville/coummune
        address:
          type: string
          description: location verbale
        location:
          type: object
          properties:
            type:
              type: string
            coordinates:
              type: array
              items:
                type: number
        phone:
          type: string
          description: numero professionnel de l'organisation
        email:
          type: string
          description: email professionnel de l'organisation
        sector:
          type: string
          description: identifiant du sector principal de l'organisation
        service:
          type: string
          description: service fournis
        employees:
          type: string
          description: interval du nombre d'employes
        area:
          type: string
          description: zone d'action
        picture:
          type: string
          description: photo de profil de l'organisation
        client:
          type: string
          description: type de client
        access:
          type: boolean
          description: definis si l'organisation est operationnel ou non

    Credentials:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
        password:
          type: string


paths:
  /manager:
    post:
      summary: load data for email verify before register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Manager"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"
    
    get:
      summary: lister les managers
      parameters:
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/After"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/Page"
        - $ref: "#/components/parameters/Limit"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"

  /manager/stats/count:
    get:
      summary: nombre d'element selon la requete
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"

  /manager/register:
    post:
      summary: save data collect
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"

  /manager/password/{id}:
    post:
      summary: change password
      parameters:
        - $ref: "#/components/parameters/Id"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - password
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"
  
  /manager/{id}:
    get:
      summary: recuperation d'un manager
      parameters:
        - $ref: "#/components/parameters/Id"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"

    put:
      summary: mis a jour d'un manager
      parameters:
        - $ref: "#/components/parameters/Id"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Manager"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"
    
    delete:
      summary: suppression d'un manager
      parameters:
        - $ref: "#/components/parameters/Id"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JsonResponse"
              

  /admin/register:
    post:
      summary: >
        creation du admin avec avec restriction a aucune action
        le superadmin doit l'octroyer des authorization pour qu'il ai acces a la plateforme
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Admin"
      responses:
        "201":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Admin"

  /admin/login:
    post:
      summary: >
        connexion par email et reception de code d'authentification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: string
              properties:
                email:
                  type: string
      responses:
        "200":
          description: Email envoyer avec success

  /admin/connect:
    post:
      summary: >
        connexion par code d'authentification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - code
              properties:
                code:
                  type: string
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Authenticated"

  /admin:
    get:
      summary: lister les admins selon ou/et avec des critere
      parameters:
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Letter"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
        - $ref: "#/components/parameters/Position"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
        - $ref: "#/components/parameters/Page"
        - $ref: "#/components/parameters/Limit"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Admin"

  /admin/new-email:
    post:
      summary: verifier le nouveau email
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: string
              required:
                - email
              properties:
                email:
                  type: string
      responses:
        "200":
          description: success

  /admin/save-email:
    put:
      summary: mis a jour du mail admin
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: string
              required:
                - code
              properties:
                code:
                  type: string
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Admin"

  /admin/recovery:
    post:
      summary: code de recuperation de code si l'email est perdu
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: string
              required:
                - recovery
              properties:
                recovery:
                  type: string
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Admin"

  /admin/{id}:
    post:
      summary: mis a jour des authorization admin
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Admin"
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Admin"

    get:
      summary: >
        recuperation des donnees d'un admin
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Admin"

    put:
      summary: mis a jour des donnes admin
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Admin"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Admin"

    delete:
      summary: suppression des donnees administrateur
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "204":
          description: success

  /stats/admin:
    get:
      summary: nombre d'element selon la requete
      security:
        - bearerAuth: []
      parameters:
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Letter"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
        - $ref: "#/components/parameters/Position"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: number

  /lead:
    post:
      summary: creation  de lead
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Lead"

    get:
      summary: recuperation de plusieurs leads
      parameters:
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Letter"
        - $ref: "#/components/parameters/Address"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
        - $ref: "#/components/parameters/Page"
        - $ref: "#/components/parameters/Limit"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Lead"

  /lead/{id}:
    get:
      summary: recuperation d'un profil lead
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Lead"

    put:
      summary: mis a jour du lead
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Lead"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Lead"

    delete:
      summary: suppression d'un lead
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
  
  /lead/login/{id}:
    post:
      summary: login
      parameters:
        - $ref: "#/components/parameters/Id"
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Credentials"

  /stats/lead:
    get:
      summary: total lead
      parameters:
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Letter"
        - $ref: "#/components/parameters/Address"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: number

  /member:
    get:
      summary: recuperation de masse
      parameters:
        - $ref: "#/components/parameters/Org"
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Position"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
        - $ref: "#/components/parameters/Page"
        - $ref: "#/components/parameters/Limit"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Member"

    post:
      summary: creation de compte membre
      parameters:
        - $ref: "#/components/parameters/Id"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Member"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Member"
  
  /member/add-member:
    post:
      summary: creation de compte membre
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Member"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Member"
  
  /member/{id}:
    get:
      summary: recuperation d'un membre
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Member"

    put:
      summary: mis a jour
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Member"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Member"

    delete:
      summary: suppression
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "204":
          description: success

  /member/login:
    post:
      summary: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Credentials"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Credentials"

  /stats/member:
    get:
      summary: stats membre
      parameters:
        - $ref: "#/components/parameters/Org"
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Position"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
        - $ref: "#/components/parameters/Page"
        - $ref: "#/components/parameters/Limit"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: number

  /mentor/load:
    post:
      summary: chargement des donnees et envoie de mail de verification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Mentor"
      responses:
        "200":
          description: success

  /mentor/register:
    post:
      summary: enregistrement des donnees apres verification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: string
              properties:
                code:
                  type: string
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Mentor"

  /mentor/add-password/{id}:
    post:
      summary: ajouter d'un password
      parameters:
        - $ref: "#/components/parameters/Id"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: string
              properties:
                password:
                  type: string
      responses:
        "200":
          description: success

  /mentor/login:
    post:
      summary: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Credentials"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Authenticated"

  /mentor/{id}:
    get:
      summary: recuperation d'un mentor
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Mentor"

    put:
      summary: mis a jour d'un mentor
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Mentor"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Mentor"

    delete:
      summary: suppression d'un mentor
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success

  /mentor:
    get:
      summary: recuperation de masse
      parameters:
        - $ref: "#/components/parameters/Letter"
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Zone"
        - $ref: "#/components/parameters/Position"
        - $ref: "#/components/parameters/Min"
        - $ref: "#/components/parameters/Max"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Mentor"

  /stats/mentor:
    get:
      summary: stats mentor
      parameters:
        - $ref: "#/components/parameters/Letter"
        - $ref: "#/components/parameters/Name"
        - $ref: "#/components/parameters/Zone"
        - $ref: "#/components/parameters/Position"
        - $ref: "#/components/parameters/Min"
        - $ref: "#/components/parameters/Max"
        - $ref: "#/components/parameters/Online"
        - $ref: "#/components/parameters/IsAuthenticated"
        - $ref: "#/components/parameters/Staff"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: number

  /org/load:
    post:
      summary: load data for email verify before register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Org"
      responses:
        "200":
          description: success
  
  /org/register:
    post:
      summary: save data collect
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Org"

  /org:
    get:
      summary: recuperation de masse avec filtre
      parameters:
        - $ref: "#/components/parameters/Reason"
        - $ref: "#/components/parameters/Mentor"
        - $ref: "#/components/parameters/Social"
        - $ref: "#/components/parameters/Sector"
        - $ref: "#/components/parameters/Zone"
        - $ref: "#/components/parameters/Lon"
        - $ref: "#/components/parameters/Lat"
        - $ref: "#/components/parameters/Service"
        - $ref: "#/components/parameters/Area"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
      security:
        - bearerAuth: []
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Org"

  /org/{id}:
    get:
      summary: recuperation
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Org"

    put:
      summary: mis a jour d'une organisation
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Org"
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Org"
    
    delete:
      summary: suppression d'une organisation
      parameters:
        - $ref: "#/components/parameters/Id"
      security:
        - bearerAuth: []
      responses:
        '200':
          description: success
  
  /stats/org:
    get:
      summary: stats org
      parameters:
        - $ref: "#/components/parameters/Reason"
        - $ref: "#/components/parameters/Mentor"
        - $ref: "#/components/parameters/Social"
        - $ref: "#/components/parameters/Sector"
        - $ref: "#/components/parameters/Zone"
        - $ref: "#/components/parameters/Lon"
        - $ref: "#/components/parameters/Lat"
        - $ref: "#/components/parameters/Service"
        - $ref: "#/components/parameters/Area"
        - $ref: "#/components/parameters/Before"
        - $ref: "#/components/parameters/After"
      security:
        - bearerAuth: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: number
  

  /auth/authorization:
    post:
      summary: >
        modifier les authorisation
        - ajoute en envoyant une list d'authorization
        - je supprime en envoyant un eliste d'authorization existant deja
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
      responses:
        '200':
          description: success
  
  /auth/logout:
    post:
      summary: logout
      security:
        - bearerAuth: []
      responses:
        '200':
          description: success
  
  /auth/send:
      post:
        summary: envoie d'otp
        requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  email: string
        responses:
          '200':
            description: success
  
  /auth/verify:
    post:
      summary: verification
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
      responses:
          '200':
            description: success
  
  /auth/reset:
    post:
      summary: reinitialization de mot de pass
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
      responses:
          '200':
            description: success
      